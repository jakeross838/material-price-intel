---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - material-price-intel/package.json
  - material-price-intel/vite.config.ts
  - material-price-intel/tsconfig.json
  - material-price-intel/tsconfig.app.json
  - material-price-intel/tsconfig.node.json
  - material-price-intel/index.html
  - material-price-intel/src/main.tsx
  - material-price-intel/src/App.tsx
  - material-price-intel/src/index.css
  - material-price-intel/src/pages/LoginPage.tsx
  - material-price-intel/src/pages/DashboardPage.tsx
  - material-price-intel/src/pages/NotFoundPage.tsx
  - material-price-intel/src/components/layout/AppLayout.tsx
  - material-price-intel/src/lib/utils.ts
  - material-price-intel/components.json
autonomous: true

must_haves:
  truths:
    - "React app boots in dev mode with `npm run dev` and renders without errors"
    - "Navigating to / shows the dashboard page placeholder"
    - "Navigating to /login shows the login page placeholder"
    - "Navigating to an unknown route shows the 404 page"
    - "Tailwind CSS utility classes render correctly (visible styling)"
    - "shadcn/ui Button component renders correctly"
  artifacts:
    - path: "material-price-intel/package.json"
      provides: "Project dependencies and scripts"
      contains: "react"
    - path: "material-price-intel/src/App.tsx"
      provides: "Root component with React Router routes"
      contains: "Route"
    - path: "material-price-intel/src/pages/DashboardPage.tsx"
      provides: "Dashboard page placeholder"
      min_lines: 5
    - path: "material-price-intel/src/pages/LoginPage.tsx"
      provides: "Login page placeholder"
      min_lines: 5
    - path: "material-price-intel/src/components/layout/AppLayout.tsx"
      provides: "Shared layout wrapper with nav placeholder"
      min_lines: 10
    - path: "material-price-intel/components.json"
      provides: "shadcn/ui configuration"
      contains: "shadcn"
  key_links:
    - from: "material-price-intel/src/main.tsx"
      to: "material-price-intel/src/App.tsx"
      via: "React render"
      pattern: "import.*App"
    - from: "material-price-intel/src/App.tsx"
      to: "material-price-intel/src/pages/*"
      via: "React Router route definitions"
      pattern: "Route.*path"
---

<objective>
Scaffold the React frontend project with Vite, TypeScript, Tailwind CSS v4, shadcn/ui, React Router, and React Query. Create the basic route structure with placeholder pages for login, dashboard, and 404.

Purpose: Establish the frontend foundation that all subsequent phases build upon. Every UI feature (upload, search, review, quote management) needs this app shell.
Output: A working React app with routing, styling, and component library ready for feature development.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/research/STACK.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize React project with Vite and install all dependencies</name>
  <files>
    material-price-intel/package.json
    material-price-intel/vite.config.ts
    material-price-intel/tsconfig.json
    material-price-intel/tsconfig.app.json
    material-price-intel/tsconfig.node.json
    material-price-intel/index.html
  </files>
  <action>
    Create the React project in the `material-price-intel/` directory at the repo root:

    1. Run `npm create vite@latest material-price-intel -- --template react-ts` from the repo root.
    2. cd into `material-price-intel/` and install core dependencies:
       ```
       npm install @supabase/supabase-js @tanstack/react-query react-router date-fns
       npm install tailwindcss @tailwindcss/vite
       npm install -D @tanstack/react-query-devtools @types/react @types/react-dom
       ```
    3. Configure Vite (`vite.config.ts`):
       - Add the `@tailwindcss/vite` plugin alongside the React plugin.
       - Set server port to 5173 (default is fine).
    4. Replace the contents of `src/index.css` with:
       ```css
       @import "tailwindcss";
       ```
       This is the Tailwind CSS v4 way (no tailwind.config.js needed).
    5. Initialize shadcn/ui:
       ```
       npx shadcn@latest init
       ```
       When prompted, select: New York style, Zinc base color, CSS variables for colors.
       This creates `components.json` and sets up the `src/components/ui/` directory.
    6. Add a shadcn Button component to verify the setup works:
       ```
       npx shadcn@latest add button
       ```
    7. Create `src/lib/utils.ts` with the standard `cn()` utility (shadcn/ui init should do this, but verify it exists):
       ```typescript
       import { clsx, type ClassValue } from "clsx";
       import { twMerge } from "tailwind-merge";

       export function cn(...inputs: ClassValue[]) {
         return twMerge(clsx(inputs));
       }
       ```

    Do NOT install @anthropic-ai/sdk or zod yet -- those are for Edge Functions in later phases, not the frontend.
    Do NOT install react-dropzone or recharts yet -- those are for Phase 2 and Phase 6 respectively.
  </action>
  <verify>
    Run `npm run dev` from the `material-price-intel/` directory. The app should start on http://localhost:5173 and show the default Vite + React template page without errors. Check the terminal for any TypeScript or build errors.
  </verify>
  <done>
    - `npm run dev` starts without errors
    - `npm run build` completes without errors
    - `package.json` contains react, react-router, @tanstack/react-query, @supabase/supabase-js, tailwindcss
    - `components.json` exists (shadcn/ui configured)
    - `src/components/ui/button.tsx` exists (shadcn component added)
  </done>
</task>

<task type="auto">
  <name>Task 2: Create route structure, placeholder pages, and app layout</name>
  <files>
    material-price-intel/src/main.tsx
    material-price-intel/src/App.tsx
    material-price-intel/src/index.css
    material-price-intel/src/pages/LoginPage.tsx
    material-price-intel/src/pages/DashboardPage.tsx
    material-price-intel/src/pages/NotFoundPage.tsx
    material-price-intel/src/components/layout/AppLayout.tsx
  </files>
  <action>
    1. Update `src/main.tsx` to wrap the app with React Query's `QueryClientProvider` and React Router's `BrowserRouter`:
       ```typescript
       import React from "react";
       import ReactDOM from "react-dom/client";
       import { BrowserRouter } from "react-router";
       import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
       import App from "./App";
       import "./index.css";

       const queryClient = new QueryClient({
         defaultOptions: {
           queries: {
             staleTime: 5 * 60 * 1000,  // 5 minutes
             retry: 1,
           },
         },
       });

       ReactDOM.createRoot(document.getElementById("root")!).render(
         <React.StrictMode>
           <QueryClientProvider client={queryClient}>
             <BrowserRouter>
               <App />
             </BrowserRouter>
           </QueryClientProvider>
         </React.StrictMode>
       );
       ```

    2. Create `src/App.tsx` with route definitions:
       ```typescript
       import { Routes, Route } from "react-router";
       import { AppLayout } from "./components/layout/AppLayout";
       import { LoginPage } from "./pages/LoginPage";
       import { DashboardPage } from "./pages/DashboardPage";
       import { NotFoundPage } from "./pages/NotFoundPage";

       function App() {
         return (
           <Routes>
             <Route path="/login" element={<LoginPage />} />
             <Route element={<AppLayout />}>
               <Route path="/" element={<DashboardPage />} />
               {/* Future routes: /upload, /quotes, /quotes/:id, /search, /settings */}
             </Route>
             <Route path="*" element={<NotFoundPage />} />
           </Routes>
         );
       }

       export default App;
       ```

    3. Create `src/components/layout/AppLayout.tsx`:
       - Use `Outlet` from react-router for nested route rendering.
       - Include a simple sidebar nav placeholder with links to Dashboard (/) and future pages.
       - Use Tailwind classes: `min-h-screen`, flex layout with a sidebar (`w-64`) and main content area.
       - The sidebar should have: app title "Material Price Intel", nav links (Dashboard, Upload, Quotes, Search).
       - Nav links should use `NavLink` from react-router with active state styling.
       - Main content area gets padding (`p-6`).

    4. Create `src/pages/DashboardPage.tsx`:
       - Simple placeholder with heading "Dashboard" and text "Material Price Intelligence System".
       - Use the shadcn Button component somewhere to verify it works (e.g., a "Get Started" button).
       - Export as named export: `export function DashboardPage()`.

    5. Create `src/pages/LoginPage.tsx`:
       - Simple placeholder with heading "Sign In" and text "Authentication coming in Plan 03".
       - Centered on page using Tailwind (`flex items-center justify-center min-h-screen`).
       - Export as named export: `export function LoginPage()`.

    6. Create `src/pages/NotFoundPage.tsx`:
       - Heading "404 - Page Not Found" with a link back to dashboard.
       - Export as named export: `export function NotFoundPage()`.

    7. Clean up: Remove the default Vite boilerplate files:
       - Delete `src/App.css` (styles moved to Tailwind)
       - Delete `src/assets/react.svg` (unused)
       - Update `index.html` title to "Material Price Intel"

    IMPORTANT: Use react-router v7 import style -- everything from `"react-router"`, NOT `"react-router-dom"`. v7 unified the imports.
  </action>
  <verify>
    Run `npm run dev` and verify:
    1. http://localhost:5173/ shows the Dashboard page with sidebar navigation
    2. http://localhost:5173/login shows the Login page (no sidebar)
    3. http://localhost:5173/nonexistent shows the 404 page
    4. Clicking nav links in sidebar navigates between pages
    5. Tailwind classes render correctly (visible spacing, colors, layout)
    6. shadcn Button component renders on the Dashboard page
    7. `npm run build` completes without TypeScript errors
  </verify>
  <done>
    - All three pages render at their respective URLs
    - AppLayout sidebar shows nav links that work
    - Login page renders without the AppLayout sidebar (separate route)
    - 404 page shows for unknown routes
    - No console errors in browser
    - `npm run build` succeeds
  </done>
</task>

</tasks>

<verification>
From the `material-price-intel/` directory:
1. `npm run dev` starts without errors
2. `npm run build` completes without TypeScript errors
3. Browser navigation works for /, /login, /anything-else (404)
4. Tailwind utility classes render visible styling
5. shadcn/ui Button component renders
6. React Query DevTools icon appears in bottom-left corner (dev mode)
</verification>

<success_criteria>
- React app scaffolded with all Phase 1 frontend dependencies installed
- Route structure established: /login, /, and 404 catch-all
- AppLayout provides consistent sidebar navigation for authenticated pages
- Tailwind CSS v4 and shadcn/ui configured and working
- React Query and React Router wired at app root
- Clean build with zero TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
